<!doctype html>
<html lang="">	
	<head>
		<meta charset="utf-8"/>
		<title>Mutt CLI email client - Stephen J. Haffner | kd8zev</title>	
		<meta name="author" content="Stephen Haffner">

		<meta name="HandheldFriendly" content="True">
		<meta name="MobileOptimized" content="320">
		<meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0">

		<link href='https://fonts.googleapis.com/css?family=Droid+Sans:700,400|Droid+Sans+Mono' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" href="http://haffner.me/theme/css/main.css" type="text/css" />

		<!--[if lt IE 9]>
	  		<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->

	</head>
	<body>
		<header class="clearfix" role="banner">
			<div>
				<h1 class="huge"><a href="http://haffner.me">Stephen J. Haffner | kd8zev</a></h1>
			<nav id="top">
				<ul>
<li><a href="/pages/about-me/">About Me</a>
						</li>
<li><a href="/pages/academics/">Academics</a>
						</li>
<li><a href="/pages/technical-skills/">Technical Skills</a>
						</li>
<li><a href="/pages/projects/">Projects</a>
<ul>
<li><a href="/pages/projects/3902/">CSE 3902 Mario Clone</a></li><li><a href="/pages/projects/robot/">FEH Robot Design Class</a></li><li><a href="/pages/projects/meebee/">MeeBee</a></li><li><a href="/pages/projects/pelicanthemes/">Personal Website</a></li><li><a href="/pages/projects/khn-ld/">Kettering Health Network Light Dome</a></li><li><a href="/pages/projects/medzap/">MedZap</a></li>							</ul>						</li>
<li><a href="/pages/pgp/">PGP Keys</a>
						</li>
<li><a href="/pages/contact/">Contact</a>
						</li>
					<li><a href="http://haffner.me/static/HaffnerStephen-Resume.pdf">Resume</a></li>
				</ul>
			</nav>
			</div>
		</header>

<div role="main" class="content clearfix">	
	<article>
		<div class="post wrapper">
			<h1>Mutt CLI email client</h1>
			<p>Mutt is an awesome CLI email client but it can be a pain to set up. I added config file templates for mutt and its supporting programs to my <a href="https://git.kd8zev.net/?p=dotfiles.git">dotfile git repo</a>. Download the templates and follow the directions below to get it all working.</p>
<h2>Before you begin</h2>
<p>This setup downloads all the mail to your computer, so do not use this method if you have limited disk space!</p>
<p>I have this setup on my server at home and I ssh into it from a tmux session from my desktop and laptop to check and send mail. This makes handling attachments very difficult. I am currently testing different methods of sending attachments back and forth without having to manually scp everything.</p>
<p>I also assume you only have one address book/CardDav account that you use for all your contacts</p>
<h2>Required Programs</h2>
<ul>
<li>mutt - Duh</li>
<li>vim - To write mail</li>
<li>offlineIMAP - To sync all your messages with the mail servers</li>
<li>msmtp - To sent the mail using smtp</li>
<li>python-pycard - To syncronize contacts with a CardDav server</li>
<li>links - To view HTML formatted emails</li>
</ul>
<h2>Directions</h2>
<ul>
<li>Grab the config file templates from <a href="https://git.kd8zev.net/?p=dotfiles.git">my git repository</a></li>
<li>All the "DOT.<em>" files are supposed to be hidden files/folders.  Rename them to ".</em>"</li>
<li>Move these files into your home directory</li>
<li>Edit .offlineimaprc</li>
<li>Replace "ACCOUNT_#" with whatever names you want</li>
<li>Replace "imap.domain.com", "user@domain.com", "email@domain.com", and "****" with the correct information<ul>
<li>(NOTE: Unless you are setting up aliases, "user@domain.com" and "email@domain.com" are usually the same thing</li>
</ul>
</li>
<li>Run "offlineimap" to create the folders and do an initial mail sync (This may take a very long time)</li>
<li>Edit .msmtprc</li>
<li>Replace "ACCOUNT_#" with the same names you used in .offlineimaprc </li>
<li>Replace "smtp.domain.com", "user@domain.com", "email@domain.com", and "****" with the correct information</li>
<li>Edit .muttrc</li>
<li>Replace "ACCOUNT_#" with the same names you used in .offlineimaprc </li>
<li>Replace "KEY_ID" with the key you want to use for signing</li>
<li>Edit .mutt/ACCOUNT_#</li>
<li>Rename ".mutt/ACCOUNT_#" with the same names you used in .offlineimaprc </li>
<li>Replace "ACCOUNT_#" in each of the files with the same names you used in .offlineimaprc</li>
<li>Edit .mutt/macros</li>
<li>Replace "ACCOUNT_#" with the same names you used in .offlineimaprc </li>
<li>Edit .mutt/sigs/ACCOUNT_#</li>
<li>Rename ".mutt/sigs/ACCOUNT_#" with the same names you used in .offlineimaprc</li>
<li>Replace the contents of each with your signature</li>
<li>Edit .config/pycard/pycard.conf</li>
<li>Replace "userneme", "****", and "https://carddavurl.com" with the proper information</li>
<li>Run "pycardsyncer" to so an initial address book sync</li>
<li>Add a cron job to run offlineimap and pycardsyncer regularly<ul>
<li>(NOTE: Instead of syncing every account's whole mailbox every minute, you might want to just sync the INBOX forlders every minute with "offlineimap -f INBOX" and do a full sync once or twice a day)</li>
</ul>
</li>
</ul>
<h2>TODO</h2>
<ul>
<li>Find a good way to handle attachments (Reverse port forwards and scp?)</li>
<li>Find a good way to not store the passwords in plain text</li>
<li>Create a auto-setup script</li>
</ul>
		</div>
	</article>
</div>


		<footer class="clearfix">
			<div class="wrapper pages">
				<ul class="nav">
					<li><a href="http://getpelican.com/">Pelican</a></li>
				</ul>
			</div>

			<div class="copy wrapper">
			<ul class="social">
				<li><a href="https://githut.com/yupyupp">GitHub</a></li>
			</ul>

			<p role="contentinfo"><a href="mailto:admin@kd8zev.net">Stephen Haffner</a><br>
			Proudly powered by <a href="http://getpelican.com">Pelican</a> using <a href="https://github.com/kd8zev/pelican-theme-zev">pelican-theme-zev</a></p>
			</div>
		</footer>
	</body>
</html>