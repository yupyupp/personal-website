<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Stephen J. Haffner | kd8zev</title><link href="http://haffner.me/" rel="alternate"></link><link href="http://haffner.me/feeds/cli-tools.atom.xml" rel="self"></link><id>http://haffner.me/</id><updated>2014-09-19T00:00:00-04:00</updated><entry><title>Mutt CLI email client</title><link href="http://haffner.me/mutt-cli-email-client.html" rel="alternate"></link><updated>2014-09-19T00:00:00-04:00</updated><author><name>Stephen Haffner</name></author><id>tag:haffner.me,2014-09-19:mutt-cli-email-client.html</id><summary type="html">&lt;p&gt;Mutt is an awesome CLI email client but it can be a pain to set up. I added config file templates for mutt and its supporting programs to my &lt;a href="https://git.kd8zev.net/?p=dotfiles.git"&gt;dotfile git repo&lt;/a&gt;. Download the templates and follow the directions below to get it all working.&lt;/p&gt;
&lt;h2&gt;Before you begin&lt;/h2&gt;
&lt;p&gt;This setup downloads all the mail to your computer, so do not use this method if you have limited disk space!&lt;/p&gt;
&lt;p&gt;I have this setup on my server at home and I ssh into it from a tmux session from my desktop and laptop to check and send mail. This makes handling attachments very difficult. I am currently testing different methods of sending attachments back and forth without having to manually scp everything.&lt;/p&gt;
&lt;p&gt;I also assume you only have one address book/CardDav account that you use for all your contacts&lt;/p&gt;
&lt;h2&gt;Required Programs&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;mutt - Duh&lt;/li&gt;
&lt;li&gt;vim - To write mail&lt;/li&gt;
&lt;li&gt;offlineIMAP - To sync all your messages with the mail servers&lt;/li&gt;
&lt;li&gt;msmtp - To sent the mail using smtp&lt;/li&gt;
&lt;li&gt;python-pycard - To syncronize contacts with a CardDav server&lt;/li&gt;
&lt;li&gt;links - To view HTML formatted emails&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Directions&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Grab the config file templates from &lt;a href="https://git.kd8zev.net/?p=dotfiles.git"&gt;my git repository&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;All the "DOT.&lt;em&gt;" files are supposed to be hidden files/folders.  Rename them to ".&lt;/em&gt;"&lt;/li&gt;
&lt;li&gt;Move these files into your home directory&lt;/li&gt;
&lt;li&gt;Edit .offlineimaprc&lt;/li&gt;
&lt;li&gt;Replace "ACCOUNT_#" with whatever names you want&lt;/li&gt;
&lt;li&gt;Replace "imap.domain.com", "user@domain.com", "email@domain.com", and "****" with the correct information&lt;ul&gt;
&lt;li&gt;(NOTE: Unless you are setting up aliases, "user@domain.com" and "email@domain.com" are usually the same thing&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Run "offlineimap" to create the folders and do an initial mail sync (This may take a very long time)&lt;/li&gt;
&lt;li&gt;Edit .msmtprc&lt;/li&gt;
&lt;li&gt;Replace "ACCOUNT_#" with the same names you used in .offlineimaprc &lt;/li&gt;
&lt;li&gt;Replace "smtp.domain.com", "user@domain.com", "email@domain.com", and "****" with the correct information&lt;/li&gt;
&lt;li&gt;Edit .muttrc&lt;/li&gt;
&lt;li&gt;Replace "ACCOUNT_#" with the same names you used in .offlineimaprc &lt;/li&gt;
&lt;li&gt;Replace "KEY_ID" with the key you want to use for signing&lt;/li&gt;
&lt;li&gt;Edit .mutt/ACCOUNT_#&lt;/li&gt;
&lt;li&gt;Rename ".mutt/ACCOUNT_#" with the same names you used in .offlineimaprc &lt;/li&gt;
&lt;li&gt;Replace "ACCOUNT_#" in each of the files with the same names you used in .offlineimaprc&lt;/li&gt;
&lt;li&gt;Edit .mutt/macros&lt;/li&gt;
&lt;li&gt;Replace "ACCOUNT_#" with the same names you used in .offlineimaprc &lt;/li&gt;
&lt;li&gt;Edit .mutt/sigs/ACCOUNT_#&lt;/li&gt;
&lt;li&gt;Rename ".mutt/sigs/ACCOUNT_#" with the same names you used in .offlineimaprc&lt;/li&gt;
&lt;li&gt;Replace the contents of each with your signature&lt;/li&gt;
&lt;li&gt;Edit .config/pycard/pycard.conf&lt;/li&gt;
&lt;li&gt;Replace "userneme", "****", and "https://carddavurl.com" with the proper information&lt;/li&gt;
&lt;li&gt;Run "pycardsyncer" to so an initial address book sync&lt;/li&gt;
&lt;li&gt;Add a cron job to run offlineimap and pycardsyncer regularly&lt;ul&gt;
&lt;li&gt;(NOTE: Instead of syncing every account's whole mailbox every minute, you might want to just sync the INBOX forlders every minute with "offlineimap -f INBOX" and do a full sync once or twice a day)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;TODO&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Find a good way to handle attachments (Reverse port forwards and scp?)&lt;/li&gt;
&lt;li&gt;Find a good way to not store the passwords in plain text&lt;/li&gt;
&lt;li&gt;Create a auto-setup script&lt;/li&gt;
&lt;/ul&gt;</summary></entry></feed>